<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment Portal</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div class="container">
    <h1>Payment Portal</h1>

    <!-- Step 1: Order Lookup -->
    <div id="step-lookup">
      <h2>Look Up Your Order</h2>
      <form id="lookup-form">
        <div class="form-group">
          <label for="orderNumber">Order Number</label>
          <input type="text" id="orderNumber" name="orderNumber" required placeholder="e.g. 100000123">
        </div>
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" name="email" required placeholder="you@example.com">
        </div>
        <div id="lookup-error" class="error-message" hidden></div>
        <button type="submit" id="lookup-btn">Look Up Order</button>
      </form>
    </div>

    <!-- Step 2: Payment -->
    <div id="step-pay" hidden>
      <h2>Order Summary</h2>
      <table id="order-summary">
        <thead>
          <tr>
            <th>Item</th>
            <th>SKU</th>
            <th>Qty</th>
            <th>Price</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="order-items"></tbody>
        <tfoot>
          <tr>
            <td colspan="4"><strong>Amount Due</strong></td>
            <td id="total-due"><strong></strong></td>
          </tr>
        </tfoot>
      </table>

      <h2>Payment Details</h2>
      <div class="payment-tabs">
        <button class="tab-btn active" data-method="cc">Credit Card</button>
        <button class="tab-btn" data-method="ach">ACH / eCheck</button>
      </div>

      <form id="payment-form">
        <!-- Credit Card Fields -->
        <div id="cc-fields">
          <div class="form-group">
            <label for="cardNumber">Card Number</label>
            <input type="text" id="cardNumber" name="cardNumber" placeholder="4111111111111111" maxlength="16" inputmode="numeric">
          </div>
          <div class="form-row">
            <div class="form-group half">
              <label for="expDate">Expiration (MM/YY)</label>
              <input type="text" id="expDate" name="expDate" placeholder="MM/YY" maxlength="5">
            </div>
            <div class="form-group half">
              <label for="cvv">CVV</label>
              <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="4" inputmode="numeric">
            </div>
          </div>
        </div>

        <!-- ACH Fields -->
        <div id="ach-fields" hidden>
          <div class="form-group">
            <label for="nameOnAccount">Name on Account</label>
            <input type="text" id="nameOnAccount" name="nameOnAccount" placeholder="John Doe">
          </div>
          <div class="form-group">
            <label for="routingNumber">Routing Number</label>
            <input type="text" id="routingNumber" name="routingNumber" placeholder="121042882" maxlength="9" inputmode="numeric">
          </div>
          <div class="form-group">
            <label for="accountNumber">Account Number</label>
            <input type="text" id="accountNumber" name="accountNumber" placeholder="1234567890" inputmode="numeric">
          </div>
          <div class="form-group">
            <label for="accountType">Account Type</label>
            <select id="accountType" name="accountType">
              <option value="checking">Checking</option>
              <option value="savings">Savings</option>
            </select>
          </div>
        </div>

        <div id="payment-error" class="error-message" hidden></div>
        <button type="submit" id="pay-btn">Pay Now</button>
      </form>

      <button id="back-btn" class="link-btn">&#8592; Look up a different order</button>
    </div>

    <!-- Step 3: Success -->
    <div id="step-success" hidden>
      <div class="success-box">
        <h2>Payment Successful</h2>
        <p>Your payment has been processed.</p>
        <p>Transaction ID: <strong id="txn-id"></strong></p>
        <p>Please save this for your records.</p>
      </div>
      <button id="new-lookup-btn" class="link-btn">Pay another order</button>
    </div>
  </div>

  <script src="/js/app.js"></script>
</body>
</html>
